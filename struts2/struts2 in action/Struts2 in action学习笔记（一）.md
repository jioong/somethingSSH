# Struts2 简介 #
  
**Struts2 是一个功能齐全的 WEB 应用程序框架。**  
  
## Web 应用程序快速学习 ##
  
1. 对于 *WEB* 程序而言，需要跨越 *HTTP* 协议的两个障碍 --- **无状态和基于文本**。其中，1）无状态的协议不记录收到的多个请求之间的关系，每一个请求都会被当作服务器接收到的唯一的请求进行处理。 *HTTP* 服务器没有保存用来追踪和逻辑上连接来源于一个给定客户的多个请求的记录。服务器有客户端的地址，但是这个地址只用来返回当前请求的文档。2）*HTTP* 是基于文本的。将基于文本的技术与强类型的技术匹配起来会引发大量的数据绑定工作。在一个 *HTTP* 请求中，所有的数据都以文本方式表示。在处理过程的某个地方，这些编码的数据必须本映射到 *Java* 数据类型。而且，这个转换在请求处理过程的两端都要发生。输入请求参数必须被迁移到 *Java* 环境，发出的响应必须将数据从 *Java* 转换回基于文本的 *HTTP* 响应。    

2. *Java Servlet API* 的核心对象是 *Servlet*、请求 (*Request*)、响应(*Response*) 。*Servlet* 是一个**单例**的 *Java* 对象， **它全部的用途是接受请求，以及在任意的后端处理之后返回响应。** 1）请求对象封装各种各样的请求细节，包括通过表单字段提交的请求参与，以及查询字符串参数。2）响应对象包含如响应收不、生成响应文本的输出流等一些关键项目。总之， *Servlet* 接受请求对象，检查其中的数据，执行适当的后台逻辑，并向客户端返回。  
*Servlet API* 还提供高级功能 --- 会话机制，使得可以关联来自于一个给定客户的请求组。  
3. *Web* 应用程序需呀处理的各种日常任务：  
	* 请求参数到 *Java* 类型的数据绑定  
	* 验证数据  
	* 访问业务逻辑  
	* 访问数据层  
	* 呈现表示层  
	* 提供国际化和本地化支持  
  
## WEB 应用程序框架 ##
  
### 什么是框架 ###
  
框架是一种结构化的软件。因为，相对于任何具体的功能需求，结构化可能是框架更重要的目标。框架尽量将特定领域的日常任务和具体问题的处理流程抽象化，然后提供一个平台，基于这个平台可以更快的狗将 *WEB* 应用程序。**框架就像做月饼的模具一样，在雕刻好的模具的帮助下可以做出很多一样的月饼。这里的基础是月饼都是圆的。如果哪天有方形的月饼，那需要再制作一套模具。问题是，模具是框架，还是制作模具的思想是框架呢？**  
框架主要的两方面：  
1. 尽量自动化 *WEB* 应用程序开发过程中的常见问题。  
2. 尽量提供优秀的架构解决方案来优化 *WEB* 应用程序中常见的工作流。  

### Struts2 框架 ###
  
**拦截器**  
每一个动作都有一组拦截器与之相关联。拦截器在动作执行之前、之后都被调用，并且血药指出的是它们在结果执行完毕后才被触发。拦截器没有必要在两次触发时都做工作，但是它们确实有机会。最重要的是，拦截器允许常见的、横切的任务在简洁、可重用的组件中定义，从而能够和动作的代码分离。  
> 定义：拦截器是一种可以在请求处理之前或之后执行的 *Struts2* 组件。它提供了一种在其中定义不同的工作流和横切任务的架构组件，以便能够简单地重用这些组件，并且能够与其他架构关注点分离。  
  
**ValueStack 和 OGNL**  
*ValueStack*是保管与请求处理相关的所有数据的一个存储区域。你可以把它当作一个便签，在解决请求处理的问题时，框架会在这里工作。 *Struts2* 将相关的数据集中保存在一个方便的地方，而不是将数据穿来穿去。  
*OGNL* 是一种访问存储在中央存储库(*repository*) 中数据的工具。更准确的说，它是一个允许**引用或者操作 ValueStack 中的数据的表达式语言。**  
> 定义:*Struts2* 使用 *ValueStack* 作为请求处理过程中所需要的应用程序域数据的存储区域。数据被放入 *ValueStack* 为请求处理做准备。在动作执行过程中，数据在这里被操作。当结果呈现到响应页面时，数据从这里被读取。  
> 
  
2015.09.28